@model IEnumerable<Gapura.Models.Category>

@{
    ViewBag.Title = "Category Index ";
}

<div class="row-fluid sortable">
    <div class="box span12" style="margin-left: 0px">
        <div class="box-header" data-original-title>
            <h2><i class="icon-table"></i><span
                class="break"></span>Master Data Category</h2>
            <div class="box-icon">
                <a href="@Url.Action("Create", "Categories")">
                    <i class="halflings-icon plus"></i><span class="hidden-tablet"></span>
                    Add New Category
                </a>
            </div>
        </div>
        <div class="box-content">
            <div style="width: inherit; margin-left: 30px;">
                <table id="myTable" class="compact stripe hover order-column responsive" cellspacing="0" width="100%">
                    <thead>
                        <tr>
                            <th>Category Name
                            </th>
                            <th>Description
                            </th>
                            <th>Action
                            </th>
                        </tr>
                    </thead>
                </table>
            </div>

            @* Load datatable js *@
            @section Scripts{
                @Scripts.Render("~/bundles/dataTables")
                @*<script src="~/Scripts/dataTables/dataTables.fixedHeader.min.js"></script>*@
                @*<script src="~/Scripts/dataTables/dataTables.responsive.min.js"></script>
                <script src="~/Scripts/dataTables/jquery.jeditable.js"></script>
                <script src="~/Scripts/dataTables/jquery.dataTables.editable.js"></script>*@

                <script>
                    //var editor;
                    $(document).ready(function () {
                        //"editor" = new $.fn.dataTable.editor({
                        //    "ajax": "/Categories/LoadData",
                        //    "table": "#myTable",
                        //    "fields": [{
                        //        "label": "Start date:",
                        //        "name": "CategoryName",
                        //        "type": "string"
                        //    }, {
                        //        "label": "Description:",
                        //        "name": "Description",
                        //        "type": "string"
                        //    }]
                        //});

                        $('#myTable').DataTable({
                            //"dom": "Bfrtip",
                            "ajax": {
                                "url": "/Categories/LoadData",
                                "type": "GET",
                                "datatype": "json"
                            },
                            "columns": [
                                { "data": "CategoryName", "width": "32%" },
                                { "data": "Description", "width": "50%" },
                                {
                                    "data": "CategoryID", "width": "13%", "render": function (data) {
                                        return '<a class="btn btn-info" href="/Categories/Edit/' + data + '"><i class="halflings-icon white edit"></i></a>' +
                                                '<a class="btn btn-danger" href="/Categories/Delete/' + data + '"><i class="halflings-icon white trash"></i></a>' +
                                                '<a class="btn btn-success" href="/Categories/Details/' + data + '"><i class="halflings-icon white zoom-in"></i></a>'
                                    }
                                }
                            ],
                            "pagingType": "full_numbers",
                            //"bJQueryUI": true,
                            //"bProcessing": true,
                            //"bServerSide": true,
                            "scrollCollapse": true,
                            "sScrollX": true,
                            "sScrollY": "55vh",
                            "sScrollCollapse": true,
                            "bSort": true,
                            "select": {
                                "style": "os",
                                "selector": "td:first-child"
                            },
                            //"buttons": [
                            //    { "extend": "create", "editor": "editor" },
                            //    { "extend": "edit", "editor": "editor" },
                            //    { "extend": "remove", "editor": "editor" }
                            //]
                        }).makeEditable({
                            "sUpdateURL": "/RequestHeader/Edit",
                            "sAddURL": "/RequestHeader/Detail",
                            "sDeleteURL": "/RequestHeader/Delete",
                        });
                    });
                </script>
            }
        </div>
    </div>
</div>
@* Load datatable css *@
@Styles.Render("~/Content/dataTables")
<style>
    th {
        background-color: #cdcdcd !important;
        border: dotted 1px;
        /*padding-left: 6px;*/
    }
    td {
        border: dotted 1px;
        /*padding-left: 6px;*/
    }
</style>